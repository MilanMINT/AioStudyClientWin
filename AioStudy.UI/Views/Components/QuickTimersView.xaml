<UserControl
    x:Class="AioStudy.UI.Views.Components.QuickTimersView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:components="clr-namespace:AioStudy.UI.ViewModels.Components"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:AioStudy.UI.Views.Components"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DataContext="{d:DesignInstance Type=components:QuickTimersViewModel}"
    d:DesignHeight="150"
    d:DesignWidth="800"
    mc:Ignorable="d">

    <UserControl.Resources>
        <!--  Card Style  -->
        <Style x:Key="InfoCard" TargetType="Border">
            <Setter Property="Background" Value="#1F2024" />
            <Setter Property="CornerRadius" Value="12" />
            <Setter Property="Padding" Value="20" />
            <Setter Property="Margin" Value="0,5,0,0" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="#3A3D45" />
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect
                        BlurRadius="8"
                        Direction="270"
                        Opacity="0.2"
                        ShadowDepth="2"
                        Color="#000000" />
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="#2B3651" />
                    <Setter Property="Effect">
                        <Setter.Value>
                            <!--  stronger shadow on hover  -->
                            <DropShadowEffect
                                BlurRadius="18"
                                Opacity="0.32"
                                ShadowDepth="6"
                                Color="#000000" />
                        </Setter.Value>
                    </Setter>
                    <!--  slight elevation  -->
                    <!--<Setter Property="RenderTransform">
                        <Setter.Value>
                            <TranslateTransform Y="-2" />
                        </Setter.Value>
                    </Setter>
                    <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />-->
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>


    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="15" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="15" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!--  Quick Timer Card 1  -->
        <Border Grid.Column="0">
            <Border.Style>
                <Style BasedOn="{StaticResource InfoCard}" TargetType="Border">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding QuickTimer1}" Value="{x:Null}">
                            <Setter Property="Padding" Value="0" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
            <Grid>
                <!--  Timer Content (visible when not null)  -->
                <StackPanel d:Visibility="Visible" Visibility="{Binding QuickTimer1, Converter={StaticResource NullToCollapsedConverter}}">
                    <TextBlock
                        Margin="0,0,0,10"
                        FontSize="18"
                        FontWeight="Bold"
                        Foreground="#F2F2F2"
                        Text="{Binding QuickTimer1.Slot}" />
                    <TextBlock
                        FontSize="14"
                        Foreground="#E3E3E3"
                        Text="{Binding QuickTimer1.Slot}"
                        TextWrapping="Wrap" />

                </StackPanel>

                <!--  Add Button (visible when null)  -->
                <Button
                    Height="auto"
                    d:Visibility="Collapsed"
                    Command="{Binding AddQuickTimer1Command}"
                    CommandParameter="1"
                    Content="+"
                    Style="{StaticResource GradientButton}"
                    Visibility="{Binding QuickTimer1, Converter={StaticResource NullToVisibilityConverter}}" />
            </Grid>
        </Border>

        <!--  Quick Timer Card 2  -->
        <Border Grid.Column="2">
            <Border.Style>
                <Style BasedOn="{StaticResource InfoCard}" TargetType="Border">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding QuickTimer2}" Value="{x:Null}">
                            <Setter Property="Padding" Value="0" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
            <Grid>
                <StackPanel Visibility="{Binding QuickTimer2, Converter={StaticResource NullToCollapsedConverter}}">
                    <TextBlock
                        Margin="0,0,0,10"
                        FontSize="18"
                        FontWeight="Bold"
                        Foreground="#F2F2F2"
                        Text="{Binding QuickTimer2.Name}" />
                    <TextBlock
                        FontSize="14"
                        Foreground="#E3E3E3"
                        Text="{Binding QuickTimer2.Description}"
                        TextWrapping="Wrap" />
                </StackPanel>

                <Button
                    Height="auto"
                    Command="{Binding AddQuickTimer2Command}"
                    CommandParameter="2"
                    Content="+"
                    Style="{StaticResource GradientButton}"
                    Visibility="{Binding QuickTimer2, Converter={StaticResource NullToVisibilityConverter}}" />
            </Grid>
        </Border>
        <!--  Quick Timer Card 3  -->
        <Border Grid.Column="4">
            <Border.Style>
                <Style BasedOn="{StaticResource InfoCard}" TargetType="Border">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding QuickTimer3}" Value="{x:Null}">
                            <Setter Property="Padding" Value="0" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
            <Grid>
                <StackPanel Visibility="{Binding QuickTimer3, Converter={StaticResource NullToCollapsedConverter}}">
                    <TextBlock
                        Margin="0,0,0,10"
                        FontSize="18"
                        FontWeight="Bold"
                        Foreground="#F2F2F2"
                        Text="{Binding QuickTimer3.Name}" />
                    <TextBlock
                        FontSize="14"
                        Foreground="#E3E3E3"
                        Text="{Binding QuickTimer3.Description}"
                        TextWrapping="Wrap" />
                </StackPanel>

                <Button
                    Height="auto"
                    Command="{Binding AddQuickTimer3Command}"
                    CommandParameter="3"
                    Content="+"
                    Style="{StaticResource GradientButton}"
                    Visibility="{Binding QuickTimer3, Converter={StaticResource NullToVisibilityConverter}}" />
            </Grid>
        </Border>

    </Grid>
</UserControl>

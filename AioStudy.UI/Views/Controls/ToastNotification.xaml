<UserControl x:Class="AioStudy.UI.Views.Controls.ToastNotification"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:AioStudy.UI.Views.Controls"
             mc:Ignorable="d" 
             IsHitTestVisible="True">
    
    <UserControl.Resources>
        <Storyboard x:Key="ShowAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                       From="0" To="1" Duration="0:0:0.2"/>
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                       From="350" To="0" Duration="0:0:0.2">
                <!--<DoubleAnimation.EasingFunction>
                    <BackEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>-->
            </DoubleAnimation>
        </Storyboard>

        <Storyboard x:Key="HideAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                       From="1" To="0" Duration="0:0:0.2"/>
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                       From="0" To="350" Duration="0:0:0.2"/>
        </Storyboard>
    </UserControl.Resources>

    <Grid x:Name="ToastContainer" 
            Cursor="Hand"
            HorizontalAlignment="Right" 
            VerticalAlignment="Bottom"
            MouseLeftButtonDown="ToastContainer_MouseLeftButtonDown"
            Margin="20"
            Opacity="0">

        <Grid.RenderTransform>
            <TranslateTransform/>
        </Grid.RenderTransform>

        <Border CornerRadius="8" 
            Background="#2C2F36" 
            BorderThickness="1.5"
            MaxWidth="350"
            MinWidth="280"
            >

            <Border.BorderBrush>
                <SolidColorBrush Color="{Binding BorderColor, FallbackValue=#608BC1}"/>
            </Border.BorderBrush>

            <Grid Margin="15,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Icon -->
                <Border Grid.Column="0" 
                   Width="32" Height="32" 
                   Margin="0,0,12,0"
                   CornerRadius="16"
                   Background="{Binding IconBackground}">
                    <TextBlock Text="{Binding Icon}" 
                          FontSize="16" 
                          Foreground="White"
                          HorizontalAlignment="Center" 
                          VerticalAlignment="Center"
                          FontWeight="Bold"/>
                </Border>

                <!-- Content -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="{Binding Title}" 
                          FontWeight="Bold" 
                          Foreground="#E6E5E5" 
                          FontSize="14"
                          Margin="0,0,0,4"/>
                    <TextBlock Text="{Binding Message}" 
                          Foreground="#B8B8B8" 
                          FontSize="12" 
                          TextWrapping="Wrap"
                          LineHeight="16"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
